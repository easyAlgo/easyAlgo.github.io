// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE
(function(e){var t="object",n="codemirror/lib/codemirror";typeof exports==t&&typeof module==t?e(require(n)):typeof define=="function"&&define.amd?define([n,"easyAlgoConfiguration"],e):e(CodeMirror)})(function(e,t){function L(e,t){var n=e[r](k(t[i],t.ch-1),k(t[i],t.ch+1));return n[s]==2?n:o}function A(t,n,r){var s=t[u](n[i]),o=t.getTokenAt(n);if(/\bstring2?\b/.test(o.type))return!1;var a=new e.StringStream(s.slice(0,n.ch)+r+s.slice(n.ch),4);a.pos=a.start=o.start;for(;;){var f=t.getMode().token(a,o.state);if(a.pos>=n.ch+1)return/\bstring2?\b/.test(f);a.start=a.pos}}function O(t){var S={name:n,Backspace:function(n){if(n[a](f))return e[l];var r=n[c]();for(var o=0;o<r[s];o++){if(!r[o].empty())return e[l];var u=L(n,r[o][h]);if(!u||t.indexOf(u)%2!=0)return e[l]}for(var o=r[s]-1;o>=0;o--){var p=r[o][h];n.replaceRange("",k(p[i],p.ch-1),k(p[i],p.ch+1))}}},x="";for(var T=0;T<t[s];T+=2)(function(t,n){t!=n&&(x+=n),S[p+t+p]=function(S){if(S[a](f))return e[l];var T=S[c](),N,L;for(var O=0;O<T[s];O++){var M=T[O],_=M[h],D,L=S[r](_,k(_[i],_.ch+1));if(!M.empty())D=d;else if(t==n&&L==n)S[r](_,k(_[i],_.ch+3))==t+t+t?D=v:D=m;else if(t==n&&_.ch>1&&S[r](k(_[i],_.ch-2),_)==t+t&&(_.ch<=2||S[r](k(_[i],_.ch-3),k(_[i],_.ch-2))!=t))D=g;else if(t=='"'||t==p){if(!!e.isWordChar(L)||!A(S,_,t))return e[l];D=y}else{if(!(S[u](_[i])[s]==_.ch||x.indexOf(L)>=0||C.test(L)))return e[l];D=y}if(!N)N=D;else if(N!=D)return e[l]}S.operation(function(){if(N==m)S[b](w);else if(N==v)for(var e=0;e<3;e++)S[b](w);else if(N==d){var r=S.getSelections();for(var e=0;e<r[s];e++)r[e]=t+r[e]+n;S.replaceSelections(r,"around")}else N==y?(S[E](t+n,o),S[b]("goCharLeft")):N==g&&(S[E](t+t+t+t,"before"),S[b](w))})},t!=n&&(S[p+n+p]=function(t){var o=t[c]();for(var u=0;u<o[s];u++){var a=o[u];if(!a.empty()||t[r](a[h],k(a[h][i],a[h].ch+1))!=n)return e[l]}t[b](w)})})(t.charAt(T),t.charAt(T+1));return S}function M(t,n){for(var r in n){var f=function(r,f){t[p+r+p]=function(t){var p=t[c]()[0],d=p[h][i],v=t[u](d),m=v.trim().split(" ");if(m[s]>1||m[0][S]()+r[S]()!=f)return e[l];var g=t[a]("tabSize"),y=e.countColumn(v,o,g)/g,b="";for(var w=0;w<y;w++)b+="	";t[E](r.trim()+" \n"+b+n[f][x]()),t.setCursor({line:p[h][i],ch:p[h].ch+2})}},d=r.substring(r[s]-1);f(d[x](),r),d[S]()!=d[x]()&&f(d[S](),r)}}var n="autoCloseBrackets",r="getRange",i="line",s="length",o=null,u="getLine",a="getOption",f="disableInput",l="Pass",c="listSelections",h="head",p="'",d="surround",v="skipThree",m="skip",g="addFour",y="both",b="execCommand",w="goCharRight",E="replaceSelection",S="toUpperCase",x="toLowerCase",T="()[]''\"\"",N=t.getAutoCloseTag(),C=/\s/,k=e.Pos;e.defineOption(n,!1,function(t,r,i){i!=e.Init&&i&&t.removeKeyMap(n);if(!r)return;var s=T,o=O(s);M(o,N),t.addKeyMap(o)})});