define(["easyAlgoLanguage/easyAlgoStopBlockException"],function(e){var t="expression",n="output",r="info",i=!1,s="context",o="varname",u=!0,a="array",f="number",l="L'entrée doit être de type ",c="boolean",h="vrai",p={number:"Nombre","boolean":"Booleen",string:"Chaine",array:"Tableau"},d=function(d,v){return{write:function(e,s,o){return s[t](e.params[0],function(t){var i=s.toString(t);e[n]&&e[n]=="error"?v.error(i):e[n]&&e[n]==r?v[r](i):v.write(i),o&&o()}),i},read:function(e,t,n){t[s].isset(e[o].name,u,e.offset);var m=t[s].getType(e[o].name);return m==a&&v[r]('Un tableau est une suite de valeurs séparée par des ";", par exemple 1;2;Bonjour;5'),d.read(function(e){var t=p[m]||m;switch(m){case f:if(isNaN(e))return v[r](l+t+". Entrez une nouvelle valeur"),i;break;case c:if(e!="1"&&e!="0"&&e!=h&&e!="faux")return v[r](l+t+". Entrez une nouvelle valeur (1, 0, vrai, faux)"),i}return u},function(r){var r=r;m==f?r=parseInt(r,10):m==c?r=r=="1"||r==h:m==a&&(r=r.split(";")),t[s].setValue(e[o].name,r),n&&n()}),i},"return":function(n,r,s){return r[t](n[t],function(t){throw new e(t)}),i},define:function(e,t,n){return t[s].defineVar(e[o],e.vartype),u}}};return d});