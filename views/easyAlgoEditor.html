<div flow-prevent-drop flow-drag-enter="dragEnter = true" flow-drag-leave="dragEnter = false">
	<div id="editorPane">
		<tabset>
			<tab ng-repeat="tab in tabs" active="tab.active" select="setTerminalState('close', tab)">	
			  <tab-heading>
		        <span ng-dblclick="tab.renameMode = true" ng-show="!tab.renameMode"> {{tab.title}} </span>
				<input 
					type="text" 
					ng-model="tab.title"
					
					focus-me="tab.renameMode" 
					ng-show="tab.renameMode" 
					
					ng-enter="renamed(tab)" 
					ng-blur="renamed(tab)" 
				/>
				
				<span ng-if="tab.isSaved === false"> * </span>
				<i  ng-if="tabs.length > 1"
					class="glyphicon glyphicon-remove-circle button" 
					ng-click="removeTab($index)">
				</i>
		      </tab-heading>
			  

		      <!-- body tabs -->
		      <div class="body-tabs">


			  	<div 
			  		class="course-content"			  		
			  		style="float : right" 
			  		ng-if="tab.course"
			  		ng-click="state.terminal != 'close' && setTerminalState('pause')"
			  		ng-class="{'close' : !state.course}"
		  		>
		  			<div class="btn toogle" ng-click="state.course = !state.course ">
		  				<i class="fa"></i>
		  			</div>

		  			<div class="course" markdown="tab.course.text" ></div>
			  	</div>

			  	<textarea ui-codemirror="editorConfiguration(tab)" ui-refresh="tab.active" ng-model="tab.content"></textarea>
		      </div>
			  

			</tab>
			<tab ng-click="addTab()">
				<tab-heading >
					<i class="glyphicon glyphicon-plus-sign" ></i>
				</tab-heading>
			</tab>
		</tabset>
		<div flow-init flow-drop flow-file-added="fileAdded($file, $event, $flow)" id="button-list">
			<div ng-if="!dragEnter">
		
				<div class="btn-group" >
					<div class="btn-group dropup" dropdown ng-show="debugger == undefined">
						<button type="button" class="btn btn-default" ng-click="runAlgo(false)" title="Executer l'algorithme"> 
							<i class="glyphicon glyphicon-cog"></i> <span class="hidden-xs">Exécuter l'algorithme</span>
						</button>
						 <button type="button" class="btn btn-default dropdown-toggle" dropdown-toggle>
					        <span class="caret"></span>
					        <span class="sr-only">Split button!</span>
					     </button>
					     <ul class="dropdown-menu" role="menu">
					        <li><a href="javascript:void(0)" ng-click="runAlgo(true)"><i class="fa fa-bug"></i> Exécuter en mode pas à pas</a></li>
					     </ul>
					</div>
					<button type="button" class="btn btn-default" ng-click="debugger.next()" title="Prochaine instruction" ng-show="debugger != undefined"> 
						<i class="glyphicon glyphicon-play"></i> <span class="hidden-xs">Prochaine instruction</span>
					</button>
					<button type="button" class="btn btn-default" ng-click="debugger.finish()" title="Prochaine instruction" ng-show="debugger != undefined"> 
						<i class="glyphicon glyphicon-forward"></i> <span class="hidden-xs">Exécuter jusqu'a la fin</span>
					</button>
					<button type="button" class="btn btn-default" ng-click="clearConsole()" title="Vider la console">
						<i class="glyphicon glyphicon-trash"></i> <span class="hidden-xs">Vider la console</span>
					</button>
					<button type="button" class="btn btn-default" ng-click="stopAlgo()" title="Stoper l'algorithme" ng-disabled="running == false"> 
						<i class="glyphicon glyphicon-ban-circle"></i> <span class="hidden-xs">Stopper l'algorithme</span>
					</button>
				</div>

				<div class="btn-group" >
					<button type="button" class="btn btn-default" ng-click="saveAlgo()" ng-if="fsSupported" title="Enregistrer">
						<i class="glyphicon glyphicon-floppy-disk"></i> <span class="hidden-xs">Enregistrer</span>
					</button>
					<a class="btn btn-default" download="{{downloadAlgoFileName}}.easyAlgo" ng-click="downloadAlgo()" ng-href="{{downloadAlgoUrl}}" title="Telecharger">
						<i class="glyphicon glyphicon-download"></i> <span class="hidden-xs">Télécharger</span>
					</a>
					<span class="btn btn-default" flow-btn title="Uploader" >
						<i class="glyphicon glyphicon-upload"></i> <span class="hidden-xs" >Uploader </span>
					</span>
				</div>
				<button type="button" class="btn btn-default" ng-click="openInstructionPopUp()" title="Instruction">
					<i class="glyphicon glyphicon-plus"></i><span class="hidden-xs">Instruction </span>
				</button>
			</div>
			<div ng-if="dragEnter" class="dropArrea">
				<span> <i class="glyphicon glyphicon-download"></i> Deposez votre fichier ici</span>
			</div>
		</div>
	</div>
	<!--
	<div>
		<div style="width : 49%; display : inline-block">
		    <terminal terminal-config="vintage" id="terminal">
		    </terminal>
		</div>
			
		<div style="width : 49%; display : inline-block">
			<canvas width="600" height="400" tc-chartjs chart-type="{{chart.type}}" chart-data="chart.data" chart-options="chart.options"></canvas>
		</div>
	</div>
	-->
	<terminal terminal-config="vintage" id="terminal"ng-click="setTerminalState('running')">
	</terminal>
</div>


